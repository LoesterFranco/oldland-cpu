<!DOCTYPE html>
<html>

  <head>
    <meta charset='utf-8' />
    <meta http-equiv="X-UA-Compatible" content="chrome=1" />
    <meta name="description" content="Oldland-cpu : Oldland CPU - a 32-bit RISC FPGA CPU including RTL + tools" />

    <link rel="stylesheet" type="text/css" media="screen" href="stylesheets/stylesheet.css">

    <title>Oldland CPU</title>
  </head>

  <body>

    <!-- HEADER -->
    <div id="header_wrap" class="outer">
        <header class="inner">
          <a id="forkme_banner" href="https://github.com/jamieiles/oldland-cpu">View on GitHub</a>

	  <a href="http://jamieiles.github.io/oldland-cpu/">
          <h1 id="project_title">Oldland CPU</h1>
          <h2 id="project_tagline">Synthesizeable, 32-bit RISC CPU, SoC with toolchain</h2>
	  </a>

            <section id="downloads">
              <a class="zip_download_link" href="https://github.com/jamieiles/oldland-cpu/zipball/master">Download this project as a .zip file</a>
              <a class="tar_download_link" href="https://github.com/jamieiles/oldland-cpu/tarball/master">Download this project as a tar.gz file</a>
            </section>
        </header>
    </div>

    <!-- MAIN CONTENT -->
    <div id="main_content_wrap" class="outer">
      <section id="main_content" class="inner">

<h2 id="introduction">Introduction</h2>

<p>Oldland is a 32-bit RISC CPU targeted at FPGAs.  The main features are:
<img src="docs/oldland-core.svg" alt="Oldland-core" /></p>

<ul>
  <li>5 stage load/store pipeline.</li>
  <li>16 general purpose registers.</li>
  <li>N-way set-associative blocking instruction/data caches</li>
  <li>Software managed instruction/data TLBs with 4KB page size.</li>
  <li>JTAG debug controller for execution control and state
  modification/inspection.</li>
  <li>Exception table for interrupts, data/instruction aborts, illegal
  instruction and software interrupts along with separate ITLB/DTLB miss
  handlers.</li>
  <li>User and supervisor modes.</li>
</ul>

<p>Keynsham is a SoC using Oldland as the core and has a number of peripherals:
<img src="docs/keynsham-soc.svg" alt="Keynsham-soc" /></p>

<ul>
  <li>32MB SDR SDRAM controller.</li>
  <li>SPI master with configurable number of chip selects.</li>
  <li>On-chip bootrom.</li>
  <li>On-chip memory.</li>
  <li>Programmable timers.</li>
  <li>Interrupt controller.</li>
  <li>UART.</li>
  <li>SPI master.</li>
</ul>

<p>There is a C model along with Icarus and Verilator RTL simulations.  The
Keynsham SoC can be synthesized to run on a Terasic DE0 Nano or DE0-CV.  There
are ports of binutils, gcc, newlib, u-boot and RTEMS available.</p>

<p>The Terasic DE0-CV using an Altera Cyclone V and the DE0-nano board using an
Altera Cyclone IV are the supported boards running at ~75MHz on slow silicon
@85°C.</p>

<h2 id="documentation">Documentation</h2>

<ul>
  <li><a href="instructions.html">Instruction set</a></li>
  <li><a href="keynsham.html">Keynsham SoC configuration</a></li>
  <li><a href="docs/design.html">Architecture</a></li>
  <li><a href="docs/jtag.html">JTAG protocol</a></li>
  <li><a href="docs/simulating.html">How to simulate</a></li>
  <li><a href="docs/memory.html">Memory busses</a></li>
  <li><a href="docs/tlb.html">TLBs</a></li>
  <li><a href="docs/spimaster.html">SPI master</a></li>
  <li><a href="docs/booting.html">Boot process</a></li>
</ul>

<h2 id="testing">Testing</h2>

<ul>
  <li>Get the Docker images for the build environments:</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">docker pull jamieiles/oldland-buildenv</code></pre></div>

<ul>
  <li>Clone <a href="https://github.com/jamieiles/oldland-cpu.git">oldland-cpu</a> and
   build with:</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">git clone https://github.com/jamieiles/oldland-cpu.git
git submodule init
git submodule update</code></pre></div>

<ul>
  <li>Enter the build environment:</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">docker run -it -v <span class="k">$(</span><span class="nb">pwd</span><span class="k">)</span>:/data/oldland jamieiles/oldland-buildenv /bin/bash</code></pre></div>

<ul>
  <li>Build, install and test inside the build environment:</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">mkdir BUILD
<span class="nb">cd </span>BUILD
cmake /data/oldland/oldland-cpu
make all install -j16
oldland-test</code></pre></div>

<h2 id="running-on-hardware">Running On Hardware</h2>

<p>Build the FPGA image in Quartus and load it onto the device.  Run
oldland-jtagd on the development machine, oldland-debug can then connect to
the CPU over the virtual JTAG.</p>

<h2 id="licensing">Licensing</h2>

<p>This project is currently licensed under GPLv2 except for oldland-jtagd which
is under the Apache License v2.0.</p>

<h2 id="about-the-author">About the Author</h2>

<p>I’m <a href="https://www.jamieiles.com/">Jamie Iles</a>, you can reach me at
<a href="&#109;&#097;&#105;&#108;&#116;&#111;:&#106;&#097;&#109;&#105;&#101;&#064;&#106;&#097;&#109;&#105;&#101;&#105;&#108;&#101;&#115;&#046;&#099;&#111;&#109;">&#106;&#097;&#109;&#105;&#101;&#064;&#106;&#097;&#109;&#105;&#101;&#105;&#108;&#101;&#115;&#046;&#099;&#111;&#109;</a>.  I’m a software engineer, working at Oracle, leading
the Ksplice engineering team.</p>

      </section>
    </div>

    <!-- FOOTER  -->
    <div id="footer_wrap" class="outer">
      <footer class="inner">
        <p class="copyright">Oldland-cpu maintained by <a href="https://github.com/jamieiles">jamieiles</a></p>
        <p>Published with <a href="http://pages.github.com">GitHub Pages</a></p>
      </footer>
    </div>

              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-43848066-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>


  </body>
</html>

